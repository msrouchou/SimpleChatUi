@page "/"

<div class="chat-container">
    @if (_chatHistory.Count > 0)
    {
        @foreach (var entry in BuildChatSequence())
        {
            // User Prompt
            <div class="chat-message-container">
                <div class="chat-message-header">
                    <span class="bi bi-person" aria-hidden="true" />
                    <label>@_currentUser</label>
                </div>
                <div class="chat-message user-prompt">@entry.UserMessage</div>
            </div>

            // AI Answer
            <div class="chat-message-container">
                <div class="chat-message-header">
                    <span class="bi bi-robot" aria-hidden="true" />
                    <label>Assistant</label>
                </div>
                <div class="chat-message bot-answer">@entry.BotMessage</div>
            </div>
        }
    }

    <div id="input-container" class="input-container input-group mb-3">
        <input type="text"
               class="form-control hide-border"
               placeholder="Message AI Assistant"
               aria-label="Message AI Assistant"
               aria-describedby="basic-addon2"
               @bind="_userMessage"
               @onkeyup="HandleKeyPress" />
        <div class="input-group-append" m8>
            <span class="bi bi-send" type="button" @onclick="SendMessage"></span>
        </div>
    </div>
</div>
